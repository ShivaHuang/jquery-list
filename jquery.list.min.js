/** 
 * jQuery list plug-in 1.2.0
 * Copyright (C) 2012 Digital Fusion
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation, either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 *
 * @author Sam Sehnert, Phil Taylor
 */
(function(e){var k=true,m={headerSelector:"dt",zIndex:1},j={log:function(){if(k&&window.console&&window.console.log)try{window.console.log.apply(console,arguments)}catch(a){window.console.log(arguments)}},scrollbarSize:function(){if(j._scrollbarSize===false){var a=e(document.body),b=a.css({overflow:"hidden"}).width();b-=a.css({overflow:"scroll"}).width();b||(b=a.width()-a[0].clientWidth);a.css({overflow:""});j._scrollbarSize=b}return j._scrollbarSize},_scrollbarSize:false,events:{resize:function(){var a=
e(this).data("list");a&&a.fakeHeader.width(a.headers.width()-j.scrollbarSize())},scroll:function(){var a=e(this),b=a.data("list");if(b){var d=null,c=b.headers.eq(b.currentHeader),g=b.currentHeader>=b.headers.length?null:b.headers.eq(b.currentHeader+1),f=b.currentHeader<=0?null:b.headers.eq(b.currentHeader-1),i=false;b.containerTop=a.offset().top+parseInt(a.css("marginTop"),10)+parseInt(a.css("borderTopWidth"),10);b.fakeHeader.css("top",0);if(f!==null){var h=c.offset().top;c=c.outerHeight();if(h>b.containerTop){b.fakeHeader.css("top",
h-c-b.containerTop);b.fakeHeader.html(f.html());b.currentHeader-=1;i=true}if(h-c>b.containerTop){b.fakeHeader.css("top",0);d=b.currentHeader-1}}if(g!==null){h=g.offset().top;c=g.outerHeight();h-c<b.containerTop&&b.fakeHeader.css("top",h-c-b.containerTop);if(h<b.containerTop){b.fakeHeader.css("top",0);d=b.currentHeader+1}}if(d!==null){g=b.headers.eq(d);b.currentHeader=d;b.fakeHeader.html(g.html());i=true}i&&a.trigger("headingChange",[b.currentHeader,b.headers.eq(b.currentHeader)]);a.data("list",b)}}}},
l={init:function(a){return e(this).each(function(){var b=e.extend({},m);typeof a=="object"&&e.extend(b,a);var d=e(this),c=d.data("list");if(!c){c={target:d,wrapper:d.wrapInner('<div class="ui-list" style="overflow-y:scroll;position:relative;height:100%;" />').find(".ui-list"),settings:b,headers:[],containerTop:0,currentHeader:0,fakeHeader:null,scrolllist:[]};d.addClass("-list-container");c.headers=d.find(c.settings.headerSelector);c.fakeHeader=c.headers.eq(0).clone().removeAttr("id").addClass("-list-fakeheader");
c.wrapper.bind("scroll.list",e.proxy(j.events.scroll,d));e(window).bind("resize.list",e.proxy(j.events.resize,d));c.fakeHeader.css({position:"absolute",top:0,width:c.headers.width(),zIndex:c.settings.zIndex});d.data("list",c).prepend(c.fakeHeader)}})},header:function(){var a=e(this).data("list");if(a)return a.currentHeader},scrollTo:function(a,b,d,c){return this.each(function(){var g=e(this),f=g.data("list");if(f)if(a!==undefined&&!isNaN(a)&&a>=0&&a<f.headers.length){var i=f.headers.eq(a),h=i.position().top+
f.wrapper.scrollTop()+parseInt(i.css("borderTopWidth"),10)+parseInt(i.css("borderBottomWidth"),10);if(b==undefined){g.scrollTop(h);f.currentHeader=a;f.fakeHeader.html(i.html());g.trigger("headingChange",[a,i]);g.data("list",f)}else f.wrapper.animate({scrollTop:h},b,d,c)}})},option:function(a,b){var d=e(this),c=d.data("list");if(c){if(typeof a=="undefined")return c.settings;if(!a in c.settings)return false;if(typeof b=="undefined")return c.settings[a];else{c.settings[a]=b;return d}}},version:function(a){if(a){var b=
"1.2.0".split(".");a=(Number(b[0])||1)+"";var d=(Number(b[1])||0)+"";b=(Number(b[2])||0)+"";return Number("000".slice(0,3-a.length)+a+"000".slice(0,3-d.length)+d+"000".slice(0,3-b.length)+b)}else return"list v1.2.0"},destroy:function(){return this.each(function(){var a=e(this);if(a.data("list")){a.removeData("list").removeClass("-list-container").unbind(".list").parent().after(a);a.siblings(".ui-list").remove()}})}};e.fn.list=function(a){if(l[a])return l[a].apply(this,Array.prototype.slice.call(arguments,
1));else if(typeof a==="object"||!a)return l.init.apply(this,arguments);else e.error("Method "+a+" does not exist on jQuery.list")};e.list={};e.list.log=function(a){if(a!==undefined)k=a;return k}})(jQuery);
